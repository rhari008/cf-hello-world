<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>Samples</groupId>
    <artifactId>cf-hello-world</artifactId>
    <packaging>war</packaging>

    <description>This is a simple HelloWorld Web application.</description>
     <properties>
		<java-version>1.7</java-version>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		<com.sap.cloud.neo.api-version>1.76.13</com.sap.cloud.neo.api-version>
		<sap.cloud.api>${env.SAP_CLOUD_API}</sap.cloud.api>
		<sap.cloud.org>${env.SAP_CLOUD_ORG}</sap.cloud.org>
        <sap.cloud.space>${env.SAP_CLOUD_SPACE}</sap.cloud.space>
        <sap.cloud.username>${env.SAP_CLOUD_USERNAME}</sap.cloud.username>
        <sap.cloud.password>${env.SAP_CLOUD_PASSWORD}</sap.cloud.password>
        <sap.cloud.application>cfhelloworld</sap.cloud.application>
	</properties>
	<build>
	 	<sourceDirectory>src</sourceDirectory>
		<resources>
	      <resource>
	        <directory>src</directory>
	        <excludes>
	          <exclude>**/*.java</exclude>
	        </excludes>
	      </resource>
	    </resources>
		<plugins>
			<plugin>
		        <artifactId>maven-compiler-plugin</artifactId>
		        <version>3.5.1</version>
	    	    <configuration>
	        	 <source>1.6</source>
	          	 <target>1.6</target>
	        	</configuration>
	      	</plugin>
			<plugin>
     		   <artifactId>maven-war-plugin</artifactId>
    		   <version>3.0.0</version>
        	   <configuration>
          		<warSourceDirectory>WebContent</warSourceDirectory>
        	   </configuration>
      		</plugin>
      		<plugin>
            	<groupId>org.apache.maven.plugins</groupId>
            	<artifactId>maven-surefire-plugin</artifactId>
            	<version>2.7.2</version>
            	<configuration>
                	<workingDirectory>src/test/</workingDirectory>
            	</configuration>
        	</plugin>
		</plugins>
	</build>
    <profiles>
	    <profile>
	    	<id>cloud-integration-tests</id>
	    	<build>
	    		<plugins>
  		 			<plugin>
              		  <groupId>org.cloudfoundry</groupId>
					  <artifactId>cf-maven-plugin</artifactId>
					  <version>1.0.4</version>
              		  <executions>					
						<execution>
						  <id>deploying-application</id>
						  <phase>deploy</phase>
						  <goals>
							<goal>push</goal>
						  </goals>
						</execution>
					   </executions>
  		 			  <configuration>
	                    <target>${sap.cloud.api}</target>
	                    <username>${sap.cloud.username}</username>
          				<password>${sap.cloud.password}</password>
          				<space>${sap.cloud.space}</space>
          				<org>${sap.cloud.org</org>
          				<appname>cf-hello-world</appname>
	                    <memory>256</memory>
	                  </configuration>
  		 			</plugin>  		 			
  		 		</plugins>
	    	</build>
	    </profile>
    </profiles>
    
    <licenses>
        <license>
            <name>SAP DEVELOPER LICENSE AGREEMENT</name>
            <url>https://tools.hana.ondemand.com/developer-license-3.1.txt</url>
        </license>
    </licenses>
    <dependencies>
	    <dependency>
	    	<groupId>httpunit</groupId>
	    	<artifactId>httpunit</artifactId>
	    	<version>1.7</version>
		</dependency>
	    <dependency>
	       <groupId>org.easymock</groupId>
	       <artifactId>easymock</artifactId>
	       <version>3.1</version>
	    </dependency>
    	<dependency>
	    	<groupId>junit</groupId>
	      	<artifactId>junit</artifactId>
	      	<version>4.11</version>
    	</dependency>
    	<dependency>
	      <groupId>org.hamcrest</groupId>
	      <artifactId>hamcrest-core</artifactId>
	      <version>1.3</version>
	    </dependency>
	    <dependency>
    	<groupId>com.sap.cloud</groupId>
			<artifactId>neo-java-web-api</artifactId>
			<version>${com.sap.cloud.neo.api-version}</version>
			<scope>provided</scope>
			<exclusions>
				<exclusion>
					<artifactId>persistence-api</artifactId>
					<groupId>javax.persistence</groupId>
				</exclusion>
			</exclusions>
		</dependency>		
		<!-- Servlet -->
		<dependency>
			<groupId>org.glassfish</groupId>
			<artifactId>javax.servlet</artifactId>
			<version>3.1-b33</version>
			<scope>provided</scope>
		</dependency>		
    </dependencies>
    <version>0.0.1</version>
</project>
